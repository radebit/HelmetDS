<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.radebit.project.helmetds.mapper.HCameraListMapper">
    
    <resultMap type="HCameraList" id="HCameraListResult">
        <result property="cameraId"    column="camera_id"    />
        <result property="groupId"    column="group_id"    />
        <result property="cameraName"    column="camera_name"    />
        <result property="rtspStream"    column="rtsp_stream"    />
        <result property="rtmpStream"    column="rtmp_stream"    />
        <result property="mainStream"    column="main_stream"    />
        <result property="frequencyBand"    column="frequency_band"    />
        <result property="secretKey"    column="secret_key"    />
        <result property="screenshots"    column="screenshots"    />
        <result property="founder"    column="founder"    />
        <result property="state"    column="state"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateTime"    column="update_time"    />
    </resultMap>

    <sql id="selectHCameraListVo">
        select camera_id, group_id, camera_name, rtsp_stream, rtmp_stream, main_stream, frequency_band, secret_key, screenshots, founder, state, create_time, update_time from h_camera_list
    </sql>

    <select id="selectHCameraListList" parameterType="HCameraList" resultMap="HCameraListResult">
        <include refid="selectHCameraListVo"/>
        <where>  
            <if test="cameraId != null "> and camera_id = #{cameraId}</if>
            <if test="groupId != null "> and group_id = #{groupId}</if>
            <if test="cameraName != null  and cameraName != ''"> and camera_name like concat('%', #{cameraName}, '%')</if>
            <if test="rtspStream != null  and rtspStream != ''"> and rtsp_stream = #{rtspStream}</if>
            <if test="rtmpStream != null  and rtmpStream != ''"> and rtmp_stream = #{rtmpStream}</if>
            <if test="mainStream != null  and mainStream != ''"> and main_stream = #{mainStream}</if>
            <if test="frequencyBand != null  and frequencyBand != ''"> and frequency_band = #{frequencyBand}</if>
            <if test="secretKey != null  and secretKey != ''"> and secret_key = #{secretKey}</if>
            <if test="screenshots != null  and screenshots != ''"> and screenshots = #{screenshots}</if>
            <if test="founder != null "> and founder = #{founder}</if>
            <if test="state != null  and state != ''"> and state = #{state}</if>
            <if test="params.beginCreateTime != null and params.beginCreateTime != '' and params.endCreateTime != null and params.endCreateTime != ''"> and create_time between #{params.beginCreateTime} and #{params.endCreateTime}</if>
        </where>
    </select>
    
    <select id="selectHCameraListById" parameterType="Long" resultMap="HCameraListResult">
        <include refid="selectHCameraListVo"/>
        where camera_id = #{cameraId}
    </select>
        
    <insert id="insertHCameraList" parameterType="HCameraList" useGeneratedKeys="true" keyProperty="cameraId">
        insert into h_camera_list
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="groupId != null ">group_id,</if>
            <if test="cameraName != null  and cameraName != ''">camera_name,</if>
            <if test="rtspStream != null  and rtspStream != ''">rtsp_stream,</if>
            <if test="rtmpStream != null  and rtmpStream != ''">rtmp_stream,</if>
            <if test="mainStream != null  and mainStream != ''">main_stream,</if>
            <if test="frequencyBand != null  and frequencyBand != ''">frequency_band,</if>
            <if test="secretKey != null  and secretKey != ''">secret_key,</if>
            <if test="screenshots != null  and screenshots != ''">screenshots,</if>
            <if test="founder != null ">founder,</if>
            <if test="state != null  and state != ''">state,</if>
            <if test="createTime != null ">create_time,</if>
            <if test="updateTime != null ">update_time,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="groupId != null ">#{groupId},</if>
            <if test="cameraName != null  and cameraName != ''">#{cameraName},</if>
            <if test="rtspStream != null  and rtspStream != ''">#{rtspStream},</if>
            <if test="rtmpStream != null  and rtmpStream != ''">#{rtmpStream},</if>
            <if test="mainStream != null  and mainStream != ''">#{mainStream},</if>
            <if test="frequencyBand != null  and frequencyBand != ''">#{frequencyBand},</if>
            <if test="secretKey != null  and secretKey != ''">#{secretKey},</if>
            <if test="screenshots != null  and screenshots != ''">#{screenshots},</if>
            <if test="founder != null ">#{founder},</if>
            <if test="state != null  and state != ''">#{state},</if>
            <if test="createTime != null ">#{createTime},</if>
            <if test="updateTime != null ">#{updateTime},</if>
         </trim>
    </insert>

    <update id="updateHCameraList" parameterType="HCameraList">
        update h_camera_list
        <trim prefix="SET" suffixOverrides=",">
            <if test="groupId != null ">group_id = #{groupId},</if>
            <if test="cameraName != null  and cameraName != ''">camera_name = #{cameraName},</if>
            <if test="rtspStream != null  and rtspStream != ''">rtsp_stream = #{rtspStream},</if>
            <if test="rtmpStream != null  and rtmpStream != ''">rtmp_stream = #{rtmpStream},</if>
            <if test="mainStream != null  and mainStream != ''">main_stream = #{mainStream},</if>
            <if test="frequencyBand != null  and frequencyBand != ''">frequency_band = #{frequencyBand},</if>
            <if test="secretKey != null  and secretKey != ''">secret_key = #{secretKey},</if>
            <if test="screenshots != null  and screenshots != ''">screenshots = #{screenshots},</if>
            <if test="founder != null ">founder = #{founder},</if>
            <if test="state != null  and state != ''">state = #{state},</if>
            <if test="createTime != null ">create_time = #{createTime},</if>
            <if test="updateTime != null ">update_time = #{updateTime},</if>
        </trim>
        where camera_id = #{cameraId}
    </update>

    <delete id="deleteHCameraListById" parameterType="Long">
        delete from h_camera_list where camera_id = #{cameraId}
    </delete>

    <delete id="deleteHCameraListByIds" parameterType="String">
        delete from h_camera_list where camera_id in 
        <foreach item="cameraId" collection="array" open="(" separator="," close=")">
            #{cameraId}
        </foreach>
    </delete>
    
</mapper>